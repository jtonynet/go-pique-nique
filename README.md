<a id="header"></a>

<!-- 
    Logo image generated by Bing IA: https://www.bing.com/images/create/
    Prompt: gopher azul, simbolo da linguagem golang sentado em chao gramado verde, com uma toalha quadriculada branca e vermelha com uma cest de pique-nique, segurando um cartao de credito verde e uma maquinhas de cartÃ£o de credito e cartÃµes em cima da toalha, estilo cartoon, historia em quadrinhos
-->
<div align="center">
<a href="#header">
    <img src="./docs/assets/images/layout/header.png" alt="gopher azul, simbolo da linguagem golang sentado em chao gramado verde, com uma toalha quadriculada branca e vermelha com uma cesta de pique-nique, segurando um cartao de credito verde e uma maquinha de cartÃ£o de credito e cartÃµes em cima da toalha, estilo cartoon, historia em quadrinhos" />
</a>
</div>

<!-- 
    icons by:
    https://devicon.dev/
    https://simpleicons.org/
-->
[<img src="./docs/assets/images/icons/go.svg" width="25px" height="25px" alt="Go Logo" title="Go">](https://go.dev/) [<img src="./docs/assets/images/icons/gin.svg" width="25px" height="25px" alt="Gin Logo" title="Gin">](https://gin-gonic.com/) [<img src="./docs/assets/images/icons/postgresql.svg" width="25px" height="25px" alt="PostgreSql Logo" title="PostgreSql">](https://www.postgresql.org/) [<img src="./docs/assets/images/icons/redis.svg" width="25px" height="25px" alt="Redis Logo" title="Redis">](https://redis.com/) [<img src="./docs/assets/images/icons/rabbitmq.svg" width="25px" height="25px" alt="RabbitMQ Logo" title="RabbitMQ">](https://rabbitmq.com/) [<img src="./docs/assets/images/icons/docker.svg" width="25px" height="25px" alt="Docker Logo" title="Docker">](https://www.docker.com/) [<img src="./docs/assets/images/icons/ubuntu.svg" width="25px" height="25px Logo" title="Ubuntu" alt="Ubuntu" />](https://ubuntu.com/) [<img src="./docs/assets/images/icons/dotenv.svg" width="25px" height="25px" alt="Viper DotEnv Logo" title="Viper DotEnv">](https://github.com/spf13/viper) [<img src="./docs/assets/images/icons/github.svg" width="25px" height="25px" alt="GitHub Logo" title="GitHub">](https://github.com/jtonynet) [<img src="./docs/assets/images/icons/visualstudiocode.svg" width="25px" height="25px" alt="VsCode Logo" title="VsCode">](https://code.visualstudio.com/) [<img src="./docs/assets/images/icons/swagger.svg" width="25px" height="25px" alt="Swagger Logo" title="Swagger">](https://swagger.io/) [<img src="./docs/assets/images/icons/miro.svg" width="25px" height="25px" alt="Miro Logo" title="Miro">](https://https://miro.com/) [<img src="./docs/assets/images/icons/mermaidjs.svg" width="25px" height="25px" alt="MermaidJS Logo" title="MermaidJS">](https://mermaid.js.org/) [<img src="./docs/assets/images/icons/githubactions.svg" width="25px" height="25px" alt="GithubActions Logo" title="GithubActions">](https://docs.github.com/en/actions) <!-- [<img src="./docs/assets/images/icons/gatling.svg" width="35px" height="35px" alt="Gatling Logo" title="Gatling">](https://gatling.com/) [<img src="./docs/assets/images/icons/prometheus.svg" width="25px" height="25px" alt="Prometheus Logo" title="Prometheus">](https://prometheus.io/) [<img src="./docs/assets/images/icons/grafana.svg" width="25px" height="25px" alt="Grafana Logo" title="Grafana">](https://grafana.com/) -->

<!-- 
[<img src="./docs/assets/images/icons/nginx.svg" width="25px" height="25px" alt="nginx Logo" title="nginx">](https://nginx.org/en/)  [<img src="./docs/assets/images/icons/grafana_loki.png" width="30px" height="30px" alt="Grafana Loki Logo" title="Grafana Loki">](https://grafana.com/oss/loki/) [<img src="./docs/assets/images/icons/jaeger.svg" width="25px" height="25px" alt="Jaeger Logo" title="Jaeger">](https://www.jaegertracing.io/) [<img src="./docs/assets/images/icons/opentelemetry.svg" width="25px" height="25px" alt="OpenTelemetry Logo" title="OpenTelemetry">](https://www.jaegertracing.io/) 
-->




[![Badge Status](https://img.shields.io/badge/STATUS-EM_DESENVOLVIMENTO-green)](#header) <!--[![Badge GitHubActions](https://github.com/jtonynet/go-pique-nique/actions/workflows/main.yml/badge.svg?branch=main)](https://github.com/jtonynet/go-pique-nique/actions) --> [![Go Version](https://img.shields.io/badge/GO-1.23.2-blue?logo=go&logoColor=white)](https://go.dev/)

## ğŸ•¸ï¸ Redes

[![linkedin](https://img.shields.io/badge/Linkedin-0A66C2?style=for-the-badge&logo=linkedin&logoColor=white)](https://www.linkedin.com/in/jos%C3%A9-r-99896a39/) [![dev.to](https://img.shields.io/badge/dev.to-0A0A0A?style=for-the-badge&logo=devdotto&logoColor=white)](https://dev.to/learningenuity) [![gmail](https://img.shields.io/badge/Gmail-D14836?style=for-the-badge&logo=gmail&logoColor=white)](mailto:learningenuity@gmail.com)

---

## ğŸ“ O Projeto

<a id="index"></a>
### â¤´ï¸ Ãndice
__ğŸš§ WORK IN PROGRESS!__

__[Go Pique Nique](#header)__<br/>
  1.  â¤´ï¸ [Ãndice](#index)
  2.  ğŸ“– [Sobre](#about)
  3.  ğŸ’» [Rodando o Projeto](#run)
      - ğŸŒ [Ambiente](#environment)
      - ğŸ‹ [Conteinerizado](#run-containerized)
  4.  âœ… [Testes](#tests)
      - ğŸ‹ [Conteinerizado](#test-containerized)
  5.  ğŸ“Š [Diagramas](#diagrams)
  6. ğŸ§  [ADR - Architecture Decision Records](#adr)
  7.  ğŸ”¢ [VersÃµes](#versions)
  8.  ğŸ§° [Ferramentas](#tools)
  9.  ğŸ¤– [Uso de IA](#ia)
 10.  ğŸ [ConclusÃ£o](#conclusion)

---

<br/>

<a id="about"></a>
### ğŸ“– Sobre

__ğŸš§ WORK IN PROGRESS!__

__Resumo:__

> 
> Desafio de `Banking` `REST` Simplificado em `Event Driven` e `Arquitetura Hexagonal`. Previamente elaborado com `Event Storming`
> ConstruÃ­do com `Gin` e `Gorm`,  `RabbitMQ` como serviÃ§o de `Mensageria`.
>
> __Principais Tecnologias e abordagens:__
> - `Event Driven Architecture`
> - `Hexagonal Architecture`
> - `TDD`, `DDD`, `SOLID`, `ADRs`
> - `Diagram as code` com `Mermaid.js` e `Miro`
> - `Dockerized` SoluÃ§Ã£o com uso de containers
> - `PostgreSQL` modelado inspirado em `Event Sourcing` para garantir `ConsistÃªncia`
> - `CI` com `GitHub Actions` 

<div align="center">
<img src="./docs/assets/images/layout/screen_captures/miro_event_storming.png">
<br/>

_*Imagem retirada de sessÃ£o do Miro Board do projeto efetuada em 24/12/2024, baseada nos requisitos apresentados._
</div>

<br/>
<div align="center">. . . . . . . . . . . . . . . . . . . . . . . . . . . .</div>
<br/>

__Texto Original:__


> #### Objetivo: `Event Driven & Hexagonal Banking`
> 
> O `Event Driven Banking` Simplificado Ã© uma plataforma de pagamentos simplificada. Nela Ã© possÃ­vel depositar e realizar transferÃªncias
> de dinheiro entre usuÃ¡rios. Temos 2 tipos de usuÃ¡rios, os comuns e lojistas, ambos tÃªm carteira com dinheiro e realizam
> transferÃªncias entre eles.
> 
> #### Requisitos
> 
> A seguir estÃ£o algumas regras de negÃ³cio que sÃ£o importantes para o funcionamento do `Event Driven Banking Authorizer` Simplificado:
> 
> - Para ambos tipos de usuÃ¡rio, precisamos do `Nome Completo`, `CPF`, `e-mail` e `Senha`. CPF/CNPJ e e-mails devem ser
>   Ãºnicos no sistema. Sendo assim, seu sistema deve permitir apenas um cadastro com o mesmo CPF ou endereÃ§o de e-mail;
> 
> - UsuÃ¡rios podem enviar dinheiro (efetuar transferÃªncia) para lojistas e entre usuÃ¡rios;
> 
> - Lojistas **sÃ³ recebem** transferÃªncias, nÃ£o enviam dinheiro para ninguÃ©m;
> 
> - Validar se o usuÃ¡rio tem saldo antes da transferÃªncia;
> 
> - Antes de finalizar a transferÃªncia, deve-se consultar um serviÃ§o autorizador externo, use este mock
>   [https://util.devi.tools/api/v2/authorize](https://util.devi.tools/api/v2/authorize) para simular o serviÃ§o
>   utilizando o verbo `GET`;
> 
> - A operaÃ§Ã£o de transferÃªncia deve ser uma transaÃ§Ã£o (ou seja, revertida em qualquer caso de inconsistÃªncia) e o
>   dinheiro deve voltar para a carteira do usuÃ¡rio que envia;
> 
> - No recebimento de pagamento, o usuÃ¡rio ou lojista precisa receber notificaÃ§Ã£o (envio de email, sms) enviada por um
>   serviÃ§o de terceiro e eventualmente este serviÃ§o pode estar indisponÃ­vel/instÃ¡vel. Use este mock
>   <a href="https://util.devi.tools/api/v1/notify">https://util.devi.tools/api/v1/notify</a> para simular o envio da notificaÃ§Ã£o
>   utilizando o verbo `POST`;
> 
> - Este serviÃ§o deve ser RESTFul.
> 
> __Tente ser o mais aderente possÃ­vel ao que foi pedido, mas nÃ£o se preocupe se nÃ£o conseguir atender a todos os requisitos. Durante a entrevista vamos conversar sobre o que vocÃª conseguiu fazer e o que nÃ£o conseguiu.__
> 
> ### Endpoint de transferÃªncia
> 
> VocÃª pode implementar o que achar conveniente, porÃ©m vamos nos atentar **somente** ao fluxo de transferÃªncia entre dois
> usuÃ¡rios. A implementaÃ§Ã£o deve seguir o contrato abaixo.
> 
> ```http request
> POST /transfer
> Content-Type: application/json
> 
> {
>   "value": 100.0,
>   "payer": 4,
>   "payee": 15
> }
> ```
> 
> Caso ache interessante, faÃ§a uma **proposta** de endpoint e apresente para os entrevistadores
> 
> #### AvaliaÃ§Ã£o
> 
> Apresente sua soluÃ§Ã£o utilizando o `framework` que vocÃª desejar, justificando a escolha.
> Atente-se a cumprir a maioria dos requisitos, pois vocÃª pode cumprir-los parcialmente e durante a avaliaÃ§Ã£o vamos bater
> um papo a respeito do que faltou.
> 
> ##### O que serÃ¡ avaliado e valorizamos
> 
> Habilidades bÃ¡sicas de criaÃ§Ã£o de projetos backend:
> - Conhecimentos sobre `REST`
> - Uso do `Git`
> - Capacidade `analÃ­tica`
> - ApresentaÃ§Ã£o de `cÃ³digo limpo` e organizado
> 
> Conhecimentos intermediÃ¡rios de construÃ§Ã£o de projetos manutenÃ­veis:
> - AderÃªncia a recomendaÃ§Ãµes de implementaÃ§Ã£o como as PSRs
> - AplicaÃ§Ã£o e conhecimentos de `SOLID`
> - IdentificaÃ§Ã£o e aplicaÃ§Ã£o de `Design Patterns`
> - NoÃ§Ãµes de funcionamento e uso de Cache
> - Conhecimentos sobre conceitos de containers (`Docker`, `Podman` etc)
> - `DocumentaÃ§Ã£o` e descriÃ§Ã£o de funcionalidades e manuseio do projeto
> - ImplementaÃ§Ã£o e conhecimentos sobre `testes de unidade e integraÃ§Ã£o`
> - Identificar e propor melhorias
> - Boas noÃ§Ãµes de `bancos de dados relacionais`
> 
> AptidÃµes para criar e manter aplicaÃ§Ãµes de alta qualidade:
> - AplicaÃ§Ã£o de conhecimentos de `observabilidade`
> - UtlizaÃ§Ã£o de `CI` para rodar testes e anÃ¡lises estÃ¡ticas
> - Conhecimentos sobre `bancos de dados nÃ£o-relacionais`
> - AplicaÃ§Ã£o de arquiteturas (`CQRS`, `Event-Sourcing`, `MicrosserviÃ§os`, `Monolito modular`)
> - Uso e implementaÃ§Ã£o de `mensageria`
> - NoÃ§Ãµes de `escalabilidade`
> - Boas habilidades na aplicaÃ§Ã£o do conhecimento do `negÃ³cio no software`
> - ImplementaÃ§Ã£o margeada por ferramentas de qualidade (`anÃ¡lise estÃ¡tica`, PHPMD, PHPStan, PHP-CS-Fixer etc)
> - NoÃ§Ãµes de PHP assÃ­ncrono
>
> ##### O que NÃƒO serÃ¡ avaliado
> 
> - Fluxo de cadastro de usuÃ¡rios e lojistas
> - Frontend (sÃ³ avaliaremos a <a href="https://www.devmedia.com.br/rest-tutorial/28912">API Restful</a>)
> - AutenticaÃ§Ã£o
> 
> ##### O que serÃ¡ um Diferencial
> 
> - Uso de `Docker`
> - Uma cobertura de `testes` consistente
> - Uso de `Design Patterns`
> - `DocumentaÃ§Ã£o`
> - Proposta de melhoria na arquitetura
> - Ser consistente e saber `argumentar` suas escolhas
> - Apresentar `soluÃ§Ãµes que domina`
> - `Modelagem de Dados`
> - `Manutenibilidade` do CÃ³digo
> - `Tratamento de erros`
> - Cuidado com itens de `seguranÃ§a`
> - `Arquitetura` (estruturar o pensamento antes de escrever)
> - Carinho em `desacoplar` componentes (outras camadas, `service`, `repository`)

<br/>
<div align="center">. . . . . . . . . . . . . . . . . . . . . . . . . . . .</div>
<br/>

O desafio sugere `PHP` `AssÃ­ncrono` ([`Swoole`](https://openswoole.com/) seria a escolha ideal), mas aceita outras linguagens. Realizei em `Golang`, com arquitetura [`Hexagonal`](https://alistair.cockburn.us/hexagonal-architecture/), devido Ã  minha maior experiÃªncia e familiaridade, alÃ©m de ser mencionada na `Job Description` como parte do stack utilizado. Essa combinaÃ§Ã£o atende bem aos requisitos do desafio.

Possuo experiÃªncia anterior com `PHP`, mas preferi minha principal stack do momento. Contudo, sou aberto a expandir minhas habilidades e disposto a aprender novas tecnologias e paradigmas ou revisitar conforme necessÃ¡rio.

Visite os [`ADRs`](#adr) do projeto para obter maior contexto.

[â¤´ï¸ de volta ao Ã­ndice](#index)

---

<br/>

<a id="run"></a>
### ğŸ’» Rodando o Projeto

<a id="environment"></a>
#### ğŸŒ Ambiente

**TODO**

<br/>

[â¤´ï¸ de volta ao Ã­ndice](#index)

---

<br/>

<a id="tests"></a>
### âœ… Testes

<a id="test-containerized"></a>
#### ğŸ‹ Conteinerizado 

**TODO**

[â¤´ï¸ de volta ao Ã­ndice](#index)

<br/>

---

<br/>

<a id="diagrams"></a>
### ğŸ“Š Diagramas

**TODO**

[â¤´ï¸ de volta ao Ã­ndice](#index)

<br/>

---

<br/>

<a id="adr"></a> 
### ğŸ§  ADR - Architecture Decision Records

- [0001: Registro de DecisÃµes de Arquitetura (ADR)](./docs/architecture/decisions/0001-registro-de-decisoes-de-arquitetura.md)
- [0002: Go, Gin, Gorm e PostgreSQL com Arquitetura Hexagonal e TDD](./docs/architecture/decisions/0002-go-gin-gorm-e-postgres-com-arquitetura-hexagonal-tdd.md)
- [0003: Event Driven Architecture](./docs/architecture/decisions/0003-event-driven-architecture.md)

<br/>

[â¤´ï¸ de volta ao Ã­ndice](#index)

---

<br/>

<a id="versions"></a>
### ğŸ”¢ VersÃµes

As tags de versÃµes estÃ£o sendo criadas manualmente a medida que o projeto avanÃ§a com melhorias notÃ¡veis. Cada funcionalidade Ã© desenvolvida em uma branch a parte (Branch Based, [feature branch](https://www.atlassian.com/git/tutorials/comparing-workflows/feature-branch-workflow)) quando finalizadas Ã© gerada tag e mergeadas em master.

Para obter mais informaÃ§Ãµes, consulte o [HistÃ³rico de VersÃµes](./CHANGELOG.md).

<br/>

[â¤´ï¸ de volta ao Ã­ndice](#index)

---

<br/>

<a id="tools"></a>
### ğŸ§° Ferramentas


- Linguagem:
  - [Go 1.23](https://go.dev/)
  - [GVM v1.0.22](https://github.com/moovweb/gvm)

- Framework & Libs:
  - [Gin](https://gin-gonic.com/)
  - [GORM](https://gorm.io/index.html)
  - [Viper](https://github.com/spf13/viper)
  - [Gin-Swagger](https://github.com/swaggo/gin-swagger)
  - [gjson](https://github.com/tidwall/gjson)
  - [uuid](github.com/google/uuid)
  - [golang-migrate](https://github.com/golang-migrate/migrate)

- Infra & Tecnologias
  - [Docker v24.0.6](https://www.docker.com/)
  - [Docker compose v2.21.0](https://www.docker.com/)
  - [Postgres v16.0](https://www.postgresql.org/)
  - [Redis](https://redis.com/)
  - [RabbitMQ](https://www.rabbitmq.com/)
  <!-- [Gatling](https://gatling.com/) -->

- GUIs:
  - [DBeaver](https://dbeaver.io/)
  - [VsCode](https://code.visualstudio.com/)
    - [Redis Dunn - VsCode Extension](https://marketplace.visualstudio.com/items?itemName=Dunn.redis)
    - [gRPC Clicker - VsCode Extension](https://marketplace.visualstudio.com/items?itemName=Dancheg97.grpc-clicker)

<br/>

[â¤´ï¸ de volta ao Ã­ndice](#index)

---

<br/>

<a id="ia"></a>
### ğŸ¤– Uso de IA

A figura do cabeÃ§alho nesta pÃ¡gina foi criada com a ajuda de inteligÃªncia artificial e um mÃ­nimo de retoques e construÃ§Ã£o no Gimp [<img src="./docs/assets/images/icons/gimp.svg" width="30" height="30 " title="Gimp" alt="Gimp Logo" />](https://www.gimp.org/)

__Os seguintes prompts foram usados para criaÃ§Ã£o no  [Bing IA:](https://www.bing.com/images/create/)__

<details>
  <summary><b>Gopher Fazendo Pique Nique pagando com CartÃ£o BancÃ¡rio</b></summary>
"gopher azul, simbolo da linguagem golang sentado em chao gramado verde, com uma toalha quadriculada branca e vermelha com uma cesta de pique-nique, segurando um cartao de credito verde e uma maquinha de cartÃ£o de credito e cartÃµes em cima da toalha, estilo cartoon, historia em quadrinhos"<b>(sic)</b>
</details>

<br/>

IA tambÃ©m Ã© utilizada em minhas pesquisas e estudos como ferramenta de apoio; no entanto,  __artes e desenvolvimento sÃ£o, acima de tudo, atividades criativas humanas. Valorize as pessoas!__

Contrate artistas para projetos comerciais ou mais elaborados e aprenda a ser engenhoso!

[â¤´ï¸ de volta ao Ã­ndice](#index)

<br/>

---

<a id="conclusion"></a>
### ğŸ ConclusÃ£o

- TODO

Essas sÃ£o minhas consideraÃ§Ãµes sobre o que produzi nesse estudo. Continuarei me aplicando aos pontos cegos que nÃ£o tive tempo ou conhecimento para aprimorar.

<br/>

[â¤´ï¸ de volta ao Ã­ndice](#index)

---

<a id="footer"></a>

>  _"Lifelong Learning & Prosper"_
> <br/> 
>  _Mr. Spock, maybe_   ğŸ––ğŸ¾ğŸš€

<div align="center">
<a href="#footer">
<img src="./docs/assets/images/layout/footer_learn_ingenuity_bg_hexagonal.png" />
<!-- <img src="./docs/assets/images/layout/drone_footer.png" /> -->
</a>
</div>

